{"version":3,"file":"fftplot.js","sources":["../../src/fftplot.js"],"sourcesContent":["// @flow\n\n/*\n * Philip Crotwell\n * University of South Carolina, 2019\n * http://www.seis.sc.edu\n */\n\nimport {FFTResult} from './fft.js';\nimport { SeismographConfig } from './seismographconfig';\n\nimport * as d3 from 'd3';\n\nimport {insertCSS} from './cssutil.js';\n\n/**\n * Create a single amplitude plot of FFT data.\n *\n * @param   cssSelector selection of the containing element, usually a div\n * @param   fftResult         data to plot\n * @param   config configuration of the plot, note not all options are supported by fft plots\n * @param   loglog      true for loglog plot, false for linlog\n * @returns             the plot\n */\nexport function createSimpleFFTPlot(cssSelector: string, fftResult: FFTResult, config: SeismographConfig, loglog: boolean = true) {\n  let fftplot =  new FFTPlot(cssSelector, config, fftResult, loglog);\n  fftplot.draw();\n  return fftplot;\n}\n\n/**\n * Create a amplitude plot of multiple FFT data.\n *\n * @param   cssSelector selection of the containing element, usually a div\n * @param   fftResults         data to plot\n * @param   config configuration of the plot, note not all options are supported by fft plots\n * @param   loglog      true for loglog plot, false for linlog\n * @returns             the plot\n */\nexport function createOverlayFFTPlot(cssSelector: string, fftResults: Array<FFTResult>, config: SeismographConfig = new SeismographConfig(), loglog: boolean = true) {\n  let fftplot =  new FFTPlot(cssSelector, config, fftResults, loglog);\n  fftplot.draw();\n  return fftplot;\n}\n\n/**\n * A amplitude plot of fft data.\n *\n * @param cssSelector selector or d3 selection\n * @param seismographConfig config of the plot, not all values are used\n * @param fftResult fft data to plot\n * @param loglog log or linear frequency\n */\nexport class FFTPlot {\n  svgParent: any;\n  seismographConfig: SeismographConfig;\n  fftResults: Array<FFTResult>;\n  xScale: d3.scale;\n  yScale: d3.scale;\n  svg: any;\n  loglog: boolean;\n  constructor(cssSelector: string,\n              seismographConfig: SeismographConfig,\n              fftResult: FFTResult | Array<FFTResult>,\n              loglog: boolean = true) {\n    this.svgParent = cssSelector;\n    this.seismographConfig = seismographConfig;\n    this.fftResults = Array.isArray(fftResult) ? fftResult : [fftResult];\n    this.xScale = null;\n    this.yScale = null;\n    this.svg = null;\n    this.loglog = loglog;\n    if (typeof cssSelector === 'string') {\n      this.svgParent = d3.select(cssSelector);\n    } else {\n      this.svgParent = cssSelector;\n    }\n\n  }\n  draw() {\n    const that = this;\n    let ampPhaseList = [];\n    let ampSliceMap = new Map();\n    let maxFFTAmpLen = 0;\n    let extentFFTData = null;\n    let freqMinMax = [];\n    for (const fftA of this.fftResults) {\n      if (this.loglog) {\n        freqMinMax.push(fftA.fundamentalFrequency); // min freq\n      } else {\n        freqMinMax.push(0);\n      }\n      freqMinMax.push(fftA.sampleRate/2); // max freq\n      let ap: FFTResult;\n      if (fftA instanceof FFTResult) {\n        ap = fftA;\n      } else {\n        throw new Error(\"fftResults must be array of FFTResult\");\n      }\n      ampPhaseList.push(ap);\n      if (maxFFTAmpLen < ap.amp.length) {\n        maxFFTAmpLen = ap.amp.length;\n      }\n      let ampSlice;\n      if (this.loglog) {\n        // don't plot zero freq amp\n        ampSlice = ap.amp.slice(1);\n      } else {\n        ampSlice = ap.amp;\n      }\n      let currExtent = d3.extent(ampSlice);\n      if (currExtent[0] === 0) {\n        // replace zero with smallest non-zero / 10 for loglog plot\n        currExtent[0] = 0.1 * ampSlice.reduce((acc, curr) => {\n          if (curr > 0 && curr < acc) {\n            return curr;\n          } else {\n            return acc;\n          }\n          }, 1e-9);\n      }\n      ampSliceMap.set(ap, ampSlice);\n      if (extentFFTData) {\n        extentFFTData = d3.extent([ extentFFTData[0],\n                                    extentFFTData[1],\n                                    currExtent[0],\n                                    currExtent[1]],\n                                    function(d) { return d; });\n      } else {\n        extentFFTData = currExtent;\n      }\n    }\n\n    let svg = this.svgParent.append(\"svg\");\n    this.svg = svg;\n    svg.classed(\"fftplot\", true);\n\n\n    let rect = svg.node().getBoundingClientRect();\n\n    let width = +rect.width - this.seismographConfig.margin.left - this.seismographConfig.margin.right;\n    let height = +rect.height - this.seismographConfig.margin.top - this.seismographConfig.margin.bottom;\n    let g = svg.append(\"g\").attr(\"transform\", \"translate(\" + this.seismographConfig.margin.left + \",\" + this.seismographConfig.margin.top + \")\");\n\n    if (this.loglog) {\n      this.xScale = d3.scaleLog()\n          .rangeRound([0, width]);\n    } else {\n      this.xScale = d3.scaleLinear()\n          .rangeRound([0, width]);\n    }\n    this.xScale.domain(d3.extent(freqMinMax));\n    this.yScale = d3.scaleLog()\n        .rangeRound([height, 0]);\n    this.yScale.domain(extentFFTData);\n    if (this.yScale.domain()[0] === this.yScale.domain()[1]) {\n      this.yScale.domain( [ this.yScale.domain()[0]/2, this.yScale.domain()[1]*2]);\n    }\n    const xAxis = d3.axisBottom(this.xScale);\n    g.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(xAxis);\n    g.append(\"g\")\n        .attr(\"transform\", `translate(0, ${height+ this.seismographConfig.margin.bottom} )`)\n      .append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(\"y\", 0)\n        .attr(\"x\", width/2)\n        .attr(\"dy\", \"0.71em\")\n        .attr(\"text-anchor\", \"end\")\n        .text(\"Hertz\");\n\n    const yAxis = d3.axisLeft(this.yScale);\n    g.append(\"g\")\n        .call(yAxis);\n    svg.append(\"g\")\n        .attr(\"transform\", `translate(0, ${this.seismographConfig.margin.top+height/2} )`)\n      .append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(\"dy\", \"0.71em\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"text-anchor\", \"end\")\n        .text(\"Amp\");\n    let pathg = g.append(\"g\").classed(\"allfftpaths\", true);\n    for (const ap of ampPhaseList) {\n      let ampSlice = ampSliceMap.get(ap);\n      let minFreq = ap.fundamentalFrequency;\n      let line = d3.line();\n      if (this.loglog) {\n        line.x(function(d, i) { return that.xScale((i+1)*minFreq); });\n        // minus one as slice off zero freq above\n      } else {\n        line.x(function(d, i) { return that.xScale((i  )*minFreq); });\n      }\n      line.y(function(d) {if (d !== 0.0 && ! isNaN(d)) {return that.yScale(d);} else {return that.yScale.range()[0];} });\n      pathg.append(\"g\").append(\"path\")\n          .classed(\"fftpath\", true)\n          .datum(ampSlice)\n          .attr(\"d\", line);\n    }\n    return this;\n  }\n}\n\n/**\n * Defualt CSS for styling fft plots.\n */\nexport const fftplot_css = `\n\n\npath.fftpath {\n  stroke: skyblue;\n  fill: none;\n  stroke-width: 1px;\n}\n\nsvg.fftplot {\n  height: 100%;\n  width: 100%;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+1) path.fftpath {\n  stroke: skyblue;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+2) path.fftpath {\n  stroke: olivedrab;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+3) path.fftpath {\n  stroke: goldenrod;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+4) path.fftpath {\n  stroke: firebrick;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+5) path.fftpath {\n  stroke: darkcyan;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+6) path.fftpath {\n  stroke: orange;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+7) path.fftpath {\n  stroke: darkmagenta;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+8) path.fftpath {\n  stroke: mediumvioletred;\n}\n\nsvg.fftplot g.allfftpaths g:nth-child(9n+9) path.fftpath {\n  stroke: sienna;\n}\n\n/* same colors for titles */\n\nsvg.fftplot g.title tspan:nth-child(9n+1)  {\n  fill: skyblue;\n}\n\nsvg.fftplot g.title text tspan:nth-child(9n+2)  {\n  stroke: olivedrab;\n}\n\nsvg.fftplot g.title text tspan:nth-child(9n+3)  {\n  stroke: goldenrod;\n}\n\nsvg.fftplot g.title tspan:nth-child(9n+4)  {\n  stroke: firebrick;\n}\n\nsvg.fftplot g.title tspan:nth-child(9n+5)  {\n  stroke: darkcyan;\n}\n\nsvg.fftplot g.title tspan:nth-child(9n+6)  {\n  stroke: orange;\n}\n\nsvg.fftplot g.title tspan:nth-child(9n+7)  {\n  stroke: darkmagenta;\n}\n\nsvg.fftplot g.title tspan:nth-child(9n+8)  {\n  stroke: mediumvioletred;\n}\n\nsvg.fftplot g.title tspan:nth-child(9n+9)  {\n  stroke: sienna;\n}\n\n\n/* links in svg */\nsvg.fftplot text a {\n  fill: #0000EE;\n  text-decoration: underline;\n}\n\n`;\n\nif (document){\n  insertCSS(fftplot_css);\n}\n"],"names":["createSimpleFFTPlot","cssSelector","fftResult","config","loglog","fftplot","FFTPlot","draw","createOverlayFFTPlot","fftResults","SeismographConfig","constructor","seismographConfig","svgParent","Array","isArray","xScale","yScale","svg","d3","that","ampPhaseList","ampSliceMap","Map","maxFFTAmpLen","extentFFTData","freqMinMax","fftA","push","fundamentalFrequency","sampleRate","ap","FFTResult","Error","amp","length","ampSlice","slice","currExtent","reduce","acc","curr","set","d","append","classed","rect","node","getBoundingClientRect","width","margin","left","right","height","top","bottom","g","attr","rangeRound","domain","xAxis","call","text","yAxis","pathg","get","minFreq","line","x","i","y","isNaN","range","datum","fftplot_css","document","insertCSS"],"mappings":";;;;;AAEA;;;;;AAaA;;;;;;;;;;AASO,SAASA,mBAAT,CAA6BC,WAA7B,EAAkDC,SAAlD,EAAwEC,MAAxE,EAAmGC,MAAe,GAAG,IAArH,EAA2H;AAChI,MAAIC,OAAO,GAAI,IAAIC,OAAJ,CAAYL,WAAZ,EAAyBE,MAAzB,EAAiCD,SAAjC,EAA4CE,MAA5C,CAAf;AACAC,EAAAA,OAAO,CAACE,IAAR;AACA,SAAOF,OAAP;AACD;AAED;;;;;;;;;;AASO,SAASG,oBAAT,CAA8BP,WAA9B,EAAmDQ,UAAnD,EAAiFN,MAAyB,GAAG,IAAIO,iBAAJ,EAA7G,EAAsIN,MAAe,GAAG,IAAxJ,EAA8J;AACnK,MAAIC,OAAO,GAAI,IAAIC,OAAJ,CAAYL,WAAZ,EAAyBE,MAAzB,EAAiCM,UAAjC,EAA6CL,MAA7C,CAAf;AACAC,EAAAA,OAAO,CAACE,IAAR;AACA,SAAOF,OAAP;AACD;AAED;;;;;;;;;AAQO,MAAMC,OAAN,CAAc;AAQnBK,EAAAA,WAAW,CAACV,WAAD,EACCW,iBADD,EAECV,SAFD,EAGCE,MAAe,GAAG,IAHnB,EAGyB;AAClC,SAAKS,SAAL,GAAiBZ,WAAjB;AACA,SAAKW,iBAAL,GAAyBA,iBAAzB;AACA,SAAKH,UAAL,GAAkBK,KAAK,CAACC,OAAN,CAAcb,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CAAzD;AACA,SAAKc,MAAL,GAAc,IAAd;AACA,SAAKC,MAAL,GAAc,IAAd;AACA,SAAKC,GAAL,GAAW,IAAX;AACA,SAAKd,MAAL,GAAcA,MAAd;;AACA,QAAI,OAAOH,WAAP,KAAuB,QAA3B,EAAqC;AACnC,WAAKY,SAAL,GAAiBM,MAAA,CAAUlB,WAAV,CAAjB;AACD,KAFD,MAEO;AACL,WAAKY,SAAL,GAAiBZ,WAAjB;AACD;AAEF;;AACDM,EAAAA,IAAI,GAAG;AACL,UAAMa,IAAI,GAAG,IAAb;AACA,QAAIC,YAAY,GAAG,EAAnB;AACA,QAAIC,WAAW,GAAG,IAAIC,GAAJ,EAAlB;AACA,QAAIC,YAAY,GAAG,CAAnB;AACA,QAAIC,aAAa,GAAG,IAApB;AACA,QAAIC,UAAU,GAAG,EAAjB;;AACA,SAAK,MAAMC,IAAX,IAAmB,KAAKlB,UAAxB,EAAoC;AAClC,UAAI,KAAKL,MAAT,EAAiB;AACfsB,QAAAA,UAAU,CAACE,IAAX,CAAgBD,IAAI,CAACE,oBAArB,EADe;AAEhB,OAFD,MAEO;AACLH,QAAAA,UAAU,CAACE,IAAX,CAAgB,CAAhB;AACD;;AACDF,MAAAA,UAAU,CAACE,IAAX,CAAgBD,IAAI,CAACG,UAAL,GAAgB,CAAhC,EANkC;;AAOlC,UAAIC,EAAJ;;AACA,UAAIJ,IAAI,YAAYK,SAApB,EAA+B;AAC7BD,QAAAA,EAAE,GAAGJ,IAAL;AACD,OAFD,MAEO;AACL,cAAM,IAAIM,KAAJ,CAAU,uCAAV,CAAN;AACD;;AACDZ,MAAAA,YAAY,CAACO,IAAb,CAAkBG,EAAlB;;AACA,UAAIP,YAAY,GAAGO,EAAE,CAACG,GAAH,CAAOC,MAA1B,EAAkC;AAChCX,QAAAA,YAAY,GAAGO,EAAE,CAACG,GAAH,CAAOC,MAAtB;AACD;;AACD,UAAIC,QAAJ;;AACA,UAAI,KAAKhC,MAAT,EAAiB;AACf;AACAgC,QAAAA,QAAQ,GAAGL,EAAE,CAACG,GAAH,CAAOG,KAAP,CAAa,CAAb,CAAX;AACD,OAHD,MAGO;AACLD,QAAAA,QAAQ,GAAGL,EAAE,CAACG,GAAd;AACD;;AACD,UAAII,UAAU,GAAGnB,MAAA,CAAUiB,QAAV,CAAjB;;AACA,UAAIE,UAAU,CAAC,CAAD,CAAV,KAAkB,CAAtB,EAAyB;AACvB;AACAA,QAAAA,UAAU,CAAC,CAAD,CAAV,GAAgB,MAAMF,QAAQ,CAACG,MAAT,CAAgB,CAACC,GAAD,EAAMC,IAAN,KAAe;AACnD,cAAIA,IAAI,GAAG,CAAP,IAAYA,IAAI,GAAGD,GAAvB,EAA4B;AAC1B,mBAAOC,IAAP;AACD,WAFD,MAEO;AACL,mBAAOD,GAAP;AACD;AACA,SANmB,EAMjB,IANiB,CAAtB;AAOD;;AACDlB,MAAAA,WAAW,CAACoB,GAAZ,CAAgBX,EAAhB,EAAoBK,QAApB;;AACA,UAAIX,aAAJ,EAAmB;AACjBA,QAAAA,aAAa,GAAGN,MAAA,CAAU,CAAEM,aAAa,CAAC,CAAD,CAAf,EACEA,aAAa,CAAC,CAAD,CADf,EAEEa,UAAU,CAAC,CAAD,CAFZ,EAGEA,UAAU,CAAC,CAAD,CAHZ,CAAV,EAIY,UAASK,CAAT,EAAY;AAAE,iBAAOA,CAAP;AAAW,SAJrC,CAAhB;AAKD,OAND,MAMO;AACLlB,QAAAA,aAAa,GAAGa,UAAhB;AACD;AACF;;AAED,QAAIpB,GAAG,GAAG,KAAKL,SAAL,CAAe+B,MAAf,CAAsB,KAAtB,CAAV;AACA,SAAK1B,GAAL,GAAWA,GAAX;AACAA,IAAAA,GAAG,CAAC2B,OAAJ,CAAY,SAAZ,EAAuB,IAAvB;AAGA,QAAIC,IAAI,GAAG5B,GAAG,CAAC6B,IAAJ,GAAWC,qBAAX,EAAX;AAEA,QAAIC,KAAK,GAAG,CAACH,IAAI,CAACG,KAAN,GAAc,KAAKrC,iBAAL,CAAuBsC,MAAvB,CAA8BC,IAA5C,GAAmD,KAAKvC,iBAAL,CAAuBsC,MAAvB,CAA8BE,KAA7F;AACA,QAAIC,MAAM,GAAG,CAACP,IAAI,CAACO,MAAN,GAAe,KAAKzC,iBAAL,CAAuBsC,MAAvB,CAA8BI,GAA7C,GAAmD,KAAK1C,iBAAL,CAAuBsC,MAAvB,CAA8BK,MAA9F;AACA,QAAIC,CAAC,GAAGtC,GAAG,CAAC0B,MAAJ,CAAW,GAAX,EAAgBa,IAAhB,CAAqB,WAArB,EAAkC,eAAe,KAAK7C,iBAAL,CAAuBsC,MAAvB,CAA8BC,IAA7C,GAAoD,GAApD,GAA0D,KAAKvC,iBAAL,CAAuBsC,MAAvB,CAA8BI,GAAxF,GAA8F,GAAhI,CAAR;;AAEA,QAAI,KAAKlD,MAAT,EAAiB;AACf,WAAKY,MAAL,GAAcG,QAAA,GACTuC,UADS,CACE,CAAC,CAAD,EAAIT,KAAJ,CADF,CAAd;AAED,KAHD,MAGO;AACL,WAAKjC,MAAL,GAAcG,WAAA,GACTuC,UADS,CACE,CAAC,CAAD,EAAIT,KAAJ,CADF,CAAd;AAED;;AACD,SAAKjC,MAAL,CAAY2C,MAAZ,CAAmBxC,MAAA,CAAUO,UAAV,CAAnB;AACA,SAAKT,MAAL,GAAcE,QAAA,GACTuC,UADS,CACE,CAACL,MAAD,EAAS,CAAT,CADF,CAAd;AAEA,SAAKpC,MAAL,CAAY0C,MAAZ,CAAmBlC,aAAnB;;AACA,QAAI,KAAKR,MAAL,CAAY0C,MAAZ,GAAqB,CAArB,MAA4B,KAAK1C,MAAL,CAAY0C,MAAZ,GAAqB,CAArB,CAAhC,EAAyD;AACvD,WAAK1C,MAAL,CAAY0C,MAAZ,CAAoB,CAAE,KAAK1C,MAAL,CAAY0C,MAAZ,GAAqB,CAArB,IAAwB,CAA1B,EAA6B,KAAK1C,MAAL,CAAY0C,MAAZ,GAAqB,CAArB,IAAwB,CAArD,CAApB;AACD;;AACD,UAAMC,KAAK,GAAGzC,UAAA,CAAc,KAAKH,MAAnB,CAAd;AACAwC,IAAAA,CAAC,CAACZ,MAAF,CAAS,GAAT,EACKa,IADL,CACU,WADV,EACuB,iBAAiBJ,MAAjB,GAA0B,GADjD,EAEKQ,IAFL,CAEUD,KAFV;AAGAJ,IAAAA,CAAC,CAACZ,MAAF,CAAS,GAAT,EACKa,IADL,CACU,WADV,yBACuCJ,MAAM,GAAE,KAAKzC,iBAAL,CAAuBsC,MAAvB,CAA8BK,MAD7E,SAEGX,MAFH,CAEU,MAFV,EAGKa,IAHL,CAGU,MAHV,EAGkB,MAHlB,EAIKA,IAJL,CAIU,GAJV,EAIe,CAJf,EAKKA,IALL,CAKU,GALV,EAKeR,KAAK,GAAC,CALrB,EAMKQ,IANL,CAMU,IANV,EAMgB,QANhB,EAOKA,IAPL,CAOU,aAPV,EAOyB,KAPzB,EAQKK,IARL,CAQU,OARV;AAUA,UAAMC,KAAK,GAAG5C,QAAA,CAAY,KAAKF,MAAjB,CAAd;AACAuC,IAAAA,CAAC,CAACZ,MAAF,CAAS,GAAT,EACKiB,IADL,CACUE,KADV;AAEA7C,IAAAA,GAAG,CAAC0B,MAAJ,CAAW,GAAX,EACKa,IADL,CACU,WADV,yBACuC,KAAK7C,iBAAL,CAAuBsC,MAAvB,CAA8BI,GAA9B,GAAkCD,MAAM,GAAC,CADhF,SAEGT,MAFH,CAEU,MAFV,EAGKa,IAHL,CAGU,MAHV,EAGkB,MAHlB,EAIKA,IAJL,CAIU,IAJV,EAIgB,QAJhB,EAKKA,IALL,CAKU,WALV,EAKuB,aALvB,EAMKA,IANL,CAMU,aANV,EAMyB,KANzB,EAOKK,IAPL,CAOU,KAPV;AAQA,QAAIE,KAAK,GAAGR,CAAC,CAACZ,MAAF,CAAS,GAAT,EAAcC,OAAd,CAAsB,aAAtB,EAAqC,IAArC,CAAZ;;AACA,SAAK,MAAMd,EAAX,IAAiBV,YAAjB,EAA+B;AAC7B,UAAIe,QAAQ,GAAGd,WAAW,CAAC2C,GAAZ,CAAgBlC,EAAhB,CAAf;AACA,UAAImC,OAAO,GAAGnC,EAAE,CAACF,oBAAjB;AACA,UAAIsC,MAAI,GAAGhD,IAAA,EAAX;;AACA,UAAI,KAAKf,MAAT,EAAiB;AACf+D,QAAAA,MAAI,CAACC,CAAL,CAAO,UAASzB,CAAT,EAAY0B,CAAZ,EAAe;AAAE,iBAAOjD,IAAI,CAACJ,MAAL,CAAY,CAACqD,CAAC,GAAC,CAAH,IAAMH,OAAlB,CAAP;AAAoC,SAA5D,EADe;AAGhB,OAHD,MAGO;AACLC,QAAAA,MAAI,CAACC,CAAL,CAAO,UAASzB,CAAT,EAAY0B,CAAZ,EAAe;AAAE,iBAAOjD,IAAI,CAACJ,MAAL,CAAaqD,CAAD,GAAMH,OAAlB,CAAP;AAAoC,SAA5D;AACD;;AACDC,MAAAA,MAAI,CAACG,CAAL,CAAO,UAAS3B,CAAT,EAAY;AAAC,YAAIA,CAAC,KAAK,GAAN,IAAa,CAAE4B,KAAK,CAAC5B,CAAD,CAAxB,EAA6B;AAAC,iBAAOvB,IAAI,CAACH,MAAL,CAAY0B,CAAZ,CAAP;AAAuB,SAArD,MAA2D;AAAC,iBAAOvB,IAAI,CAACH,MAAL,CAAYuD,KAAZ,GAAoB,CAApB,CAAP;AAA+B;AAAE,OAAjH;AACAR,MAAAA,KAAK,CAACpB,MAAN,CAAa,GAAb,EAAkBA,MAAlB,CAAyB,MAAzB,EACKC,OADL,CACa,SADb,EACwB,IADxB,EAEK4B,KAFL,CAEWrC,QAFX,EAGKqB,IAHL,CAGU,GAHV,EAGeU,MAHf;AAID;;AACD,WAAO,IAAP;AACD;;AApJkB;AAuJrB;;;;MAGaO,WAAW;;AAiGxB,IAAIC,QAAJ,EAAa;AACXC,EAAAA,SAAS,CAACF,WAAD,CAAT;AACD;;;;"}